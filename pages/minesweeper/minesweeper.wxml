<view class="container">
  <view class="header">
    <text class="title">扫雷</text>
    <view class="info-bar">
      <view class="info-item">
        <text class="info-label">💣</text>
        <text class="info-value">{{mineCount - flagCount}}</text>
      </view>
      <view class="info-item">
        <text class="info-label">⏱️</text>
        <text class="info-value">{{timer}}</text>
      </view>
    </view>
  </view>
  
  <view class="game-container">
    <view class="game-board">
      <view class="board-row" wx:for="{{board}}" wx:key="rowIndex" wx:for-index="rowIndex">
        <view 
          class="cell {{item.isRevealed ? (item.isMine ? 'cell-mine' : 'cell-revealed') : (item.isFlagged ? 'cell-flagged' : 'cell-hidden')}} {{item.isRevealed && !item.isMine && item.neighborMines > 0 ? 'cell-' + item.neighborMines : ''}}"
          wx:for="{{item}}" 
          wx:key="colIndex" 
          wx:for-index="colIndex"
          data-row="{{rowIndex}}"
          data-col="{{colIndex}}"
          bindtap="onCellTap"
          bindlongpress="onCellLongPress"
        >
          <text class="cell-content">
            {{item.isFlagged && !item.isRevealed ? '🚩' : (item.isRevealed ? (item.isMine ? '💣' : (item.neighborMines > 0 ? item.neighborMines : '')) : '')}}
          </text>
        </view>
      </view>
    </view>
    
    <view class="game-status" wx:if="{{gameStatus === 'won' || gameStatus === 'lost'}}">
      <text class="status-text">
        {{gameStatus === 'won' ? '🎉 恭喜获胜！' : '💥 游戏失败！'}}
      </text>
      <text class="status-time">用时: {{timer}}秒</text>
    </view>
  </view>
  
  <view class="controls">
    <button class="control-btn" bindtap="restart">重新开始</button>
  </view>
  
  <view class="instructions">
    <text class="instruction-text">点击格子揭开，长按标记地雷</text>
    <text class="instruction-text">数字表示周围地雷数量</text>
    <text class="instruction-text">找出所有地雷获得胜利！</text>
  </view>
</view>